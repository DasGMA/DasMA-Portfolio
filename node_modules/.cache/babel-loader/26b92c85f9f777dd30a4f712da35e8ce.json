{"ast":null,"code":"import _defineProperty from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/das/Desktop/DasMA-Portfolio/src/Components/Blog/Admin.js\";\nimport React, { Component } from 'react';\nimport Axios from 'axios';\nvar url = 'http://ma:9000/users/admin_login';\n\nvar Admin =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Admin, _Component);\n\n  function Admin() {\n    var _this;\n\n    _classCallCheck(this, Admin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Admin).call(this));\n\n    _this.handleChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.setToken = function (token) {\n      localStorage.setItem('token', token);\n    };\n\n    _this.getToken = function () {\n      return localStorage.getItem('token');\n    };\n\n    _this.adminLogin = function (event) {\n      event.preventDefault();\n      var admin = {\n        username: _this.state.username,\n        password: _this.state.password\n      };\n      Axios.post(url, admin).then(function (response) {\n        _this.setToken(response.data);\n\n        if (_this.getToken) {\n          window.location = '/blog';\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n\n      _this.setState({\n        username: '',\n        password: ''\n      });\n    };\n\n    _this.state = {\n      username: '',\n      password: ''\n    };\n    return _this;\n  }\n\n  _createClass(Admin, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"username\",\n        name: \"username\",\n        placeholder: \"Username\",\n        value: this.state.username,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"Password\",\n        value: this.state.password,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.adminLogin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Login\")));\n    }\n  }]);\n\n  return Admin;\n}(Component);\n\nexport default Admin;","map":{"version":3,"sources":["/home/das/Desktop/DasMA-Portfolio/src/Components/Blog/Admin.js"],"names":["React","Component","Axios","url","Admin","handleChange","event","setState","target","name","value","setToken","token","localStorage","setItem","getToken","getItem","adminLogin","preventDefault","admin","username","state","password","post","then","response","data","window","location","catch","error","console","log"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,GAAG,GAAG,kCAAZ;;IAEMC,K;;;;;AACF,mBAAc;AAAA;;AAAA;;AACV;;AADU,UAQdC,YARc,GAQC,UAACC,KAAD,EAAW;AACtB,YAAKC,QAAL,qBACKD,KAAK,CAACE,MAAN,CAAaC,IADlB,EACyBH,KAAK,CAACE,MAAN,CAAaE,KADtC;AAGH,KAZa;;AAAA,UAcdC,QAdc,GAcH,UAACC,KAAD,EAAW;AAClBC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,KAA9B;AACH,KAhBa;;AAAA,UAkBdG,QAlBc,GAkBH,YAAM;AACb,aAAOF,YAAY,CAACG,OAAb,CAAqB,OAArB,CAAP;AACH,KApBa;;AAAA,UAsBdC,UAtBc,GAsBD,UAACX,KAAD,EAAW;AACpBA,MAAAA,KAAK,CAACY,cAAN;AACA,UAAMC,KAAK,GAAG;AACVC,QAAAA,QAAQ,EAAE,MAAKC,KAAL,CAAWD,QADX;AAEVE,QAAAA,QAAQ,EAAE,MAAKD,KAAL,CAAWC;AAFX,OAAd;AAKApB,MAAAA,KAAK,CAACqB,IAAN,CAAWpB,GAAX,EAAgBgB,KAAhB,EACCK,IADD,CACM,UAAAC,QAAQ,EAAI;AACd,cAAKd,QAAL,CAAcc,QAAQ,CAACC,IAAvB;;AACA,YAAI,MAAKX,QAAT,EAAmB;AACfY,UAAAA,MAAM,CAACC,QAAP,GAAkB,OAAlB;AACH;AACJ,OAND,EAOCC,KAPD,CAOO,UAAAC,KAAK,EAAI;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,OATD;;AAWA,YAAKvB,QAAL,CAAc;AACVa,QAAAA,QAAQ,EAAE,EADA;AAEVE,QAAAA,QAAQ,EAAE;AAFA,OAAd;AAIH,KA5Ca;;AAEV,UAAKD,KAAL,GAAa;AACTD,MAAAA,QAAQ,EAAE,EADD;AAETE,MAAAA,QAAQ,EAAE;AAFD,KAAb;AAFU;AAMb;;;;6BAwCQ;AACL,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AACI,QAAA,IAAI,EAAG,UADX;AAEI,QAAA,IAAI,EAAG,UAFX;AAGI,QAAA,WAAW,EAAG,UAHlB;AAII,QAAA,KAAK,EAAI,KAAKD,KAAL,CAAWD,QAJxB;AAKI,QAAA,QAAQ,EAAI,KAAKf,YALrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ,EAUI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AACI,QAAA,IAAI,EAAG,UADX;AAEI,QAAA,IAAI,EAAG,UAFX;AAGI,QAAA,WAAW,EAAG,UAHlB;AAII,QAAA,KAAK,EAAI,KAAKgB,KAAL,CAAWC,QAJxB;AAKI,QAAA,QAAQ,EAAI,KAAKjB,YALrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAVJ,EAmBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAQ,QAAA,OAAO,EAAI,KAAKY,UAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,CAnBJ,CADJ;AAyBH;;;;EAzEehB,S;;AA4EpB,eAAeG,KAAf","sourcesContent":["import React, { Component } from 'react';\nimport Axios from 'axios';\n\nconst url = 'http://ma:9000/users/admin_login';\n\nclass Admin extends Component {\n    constructor() {\n        super();\n        this.state = {\n            username: '',\n            password: ''\n        }\n    }\n\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        });\n    }\n\n    setToken = (token) => {\n        localStorage.setItem('token', token)\n    }\n\n    getToken = () => {\n        return localStorage.getItem('token');\n    }\n\n    adminLogin = (event) => {\n        event.preventDefault();\n        const admin = {\n            username: this.state.username,\n            password: this.state.password\n        };\n\n        Axios.post(url, admin)\n        .then(response => {\n            this.setToken(response.data);\n            if (this.getToken) {\n                window.location = '/blog';\n            }     \n        })\n        .catch(error => {\n            console.log(error)\n        });\n\n        this.setState({\n            username: '',\n            password: ''\n        });\n    }\n\n    render() {\n        return(\n            <form>\n                <div>\n                    <input \n                        type = 'username'\n                        name = 'username'\n                        placeholder = 'Username'\n                        value = {this.state.username}\n                        onChange = {this.handleChange}\n                    />\n                </div>\n                <div>\n                    <input \n                        type = 'password'\n                        name = 'password'\n                        placeholder = 'Password'\n                        value = {this.state.password}\n                        onChange = {this.handleChange}\n                    />\n                </div>\n                <div>\n                    <button onClick = {this.adminLogin}>Login</button>\n                </div>\n            </form>\n        )\n    }\n}\n\nexport default Admin;"]},"metadata":{},"sourceType":"module"}