{"ast":null,"code":"import _classCallCheck from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/das/Desktop/DasMA-Portfolio/src/App.js\";\nimport React, { Component } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport axios from 'axios';\nimport decode from 'jwt-decode';\nimport Navigation from './Components/Navigation/Navigation';\nimport HomePage from './Components/HomePage/HomePage';\nimport Resume from './Components/Resume/Resume';\nimport Projects from './Components/Projects/Projects';\nimport BlogPostList from './Components/Blog/BlogPostList';\nimport Foot from './Components/Footer/Foot';\nimport { TransitionGroup, Transition } from 'react-transition-group';\nimport { play, exit } from './Components/timelines';\nimport BlogPostView from './Components/Blog/BlogPostView';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.getPosts = function () {\n      axios.get(URL).then(function (response) {\n        _this.setState({\n          posts: response.data,\n          searchPosts: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.handleSearch = function (event) {\n      _this.setState({\n        search: event.target.value,\n        posts: _this.state.searchPosts.filter(function (post) {\n          return new RegExp(event.target.value, \"i\").exec(post.title);\n        })\n      });\n    };\n\n    _this.newPost = function () {\n      _this.setState(function (prevState) {\n        return {\n          show: !prevState.show\n        };\n      });\n    };\n\n    _this.admin = function () {\n      _this.setState(function (prevState) {\n        return {\n          adminLogin: !prevState.adminLogin\n        };\n      });\n    };\n\n    _this.getToken = function () {\n      return localStorage.getItem('token');\n    };\n\n    _this.logout = function () {\n      localStorage.removeItem('token');\n\n      _this.setState({\n        adminLoggedIn: false\n      });\n    };\n\n    _this.loggedIn = function () {\n      var token = _this.getToken();\n\n      if (!!token && !_this.isTokenExpired(token)) {\n        _this.setState(function (prevState) {\n          return {\n            adminLoggedIn: !prevState.adminLoggedIn\n          };\n        });\n      }\n    };\n\n    _this.isTokenExpired = function (token) {\n      try {\n        var decoded = decode(token);\n\n        if (decoded.exp < Date.now() / 10000) {\n          return true;\n        } else {\n          return false;\n        }\n      } catch (error) {\n        return false;\n      }\n    };\n\n    _this.state = {\n      posts: [],\n      search: '',\n      searchPosts: [],\n      show: false,\n      adminLogin: false,\n      adminLoggedIn: false\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getPosts();\n      this.loggedIn();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"app\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(Navigation, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }), React.createElement(Route, {\n        render: function render(_ref) {\n          var location = _ref.location;\n          var pathname = location.pathname,\n              key = location.key;\n          return React.createElement(TransitionGroup, {\n            component: null,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 107\n            },\n            __self: this\n          }, React.createElement(Transition, {\n            key: key,\n            appear: true,\n            onEnter: function onEnter(node, appears) {\n              return play(pathname, node, appears);\n            },\n            onExit: function onExit(node, appears) {\n              return exit(node, appears);\n            },\n            timeout: {\n              enter: 750,\n              exit: 150\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 108\n            },\n            __self: this\n          }, React.createElement(\"main\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 115\n            },\n            __self: this\n          }, React.createElement(Switch, {\n            location: location,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 116\n            },\n            __self: this\n          }, React.createElement(Route, {\n            exact: true,\n            path: \"/\",\n            component: HomePage,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 117\n            },\n            __self: this\n          }), React.createElement(Route, {\n            path: \"/resume\",\n            component: Resume,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 118\n            },\n            __self: this\n          }), React.createElement(Route, {\n            path: \"/projects\",\n            component: Projects,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 119\n            },\n            __self: this\n          }), React.createElement(Route, {\n            path: \"/blog\",\n            return: function _return(props) {\n              return React.createElement(BlogPostList, Object.assign({}, props, {\n                posts: _this2.state.posts,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 121\n                },\n                __self: this\n              }));\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 120\n            },\n            __self: this\n          })))));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(Foot, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/home/das/Desktop/DasMA-Portfolio/src/App.js"],"names":["React","Component","Route","Switch","axios","decode","Navigation","HomePage","Resume","Projects","BlogPostList","Foot","TransitionGroup","Transition","play","exit","BlogPostView","App","props","getPosts","get","URL","then","response","setState","posts","data","searchPosts","catch","error","console","log","handleSearch","event","search","target","value","state","filter","post","RegExp","exec","title","newPost","prevState","show","admin","adminLogin","getToken","localStorage","getItem","logout","removeItem","adminLoggedIn","loggedIn","token","isTokenExpired","decoded","exp","Date","now","location","pathname","key","node","appears","enter"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport axios from 'axios';\nimport decode from 'jwt-decode';\nimport Navigation from './Components/Navigation/Navigation';\nimport HomePage from './Components/HomePage/HomePage';\nimport Resume from './Components/Resume/Resume';\nimport Projects from './Components/Projects/Projects';\nimport BlogPostList from './Components/Blog/BlogPostList';\nimport Foot from './Components/Footer/Foot';\nimport { TransitionGroup, Transition } from 'react-transition-group';\nimport { play, exit } from './Components/timelines';\nimport BlogPostView from './Components/Blog/BlogPostView';\nclass App extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n        posts: [],\n        search: '',\n        searchPosts: [],\n        show: false,\n        adminLogin: false,\n        adminLoggedIn: false\n    }\n}\n\ncomponentDidMount() {\n  this.getPosts();\n  this.loggedIn();\n}\n\ngetPosts = () => {\n  axios.get(URL)\n  .then(response => {\n      this.setState({\n          posts: response.data,\n          searchPosts: response.data\n      })\n  })\n  .catch(error => {\n    console.log(error);\n  });\n}\n\nhandleSearch = (event) => {\n  this.setState ({\n    search: event.target.value,\n    posts: this.state.searchPosts.filter((post) => \n      new RegExp(event.target.value, \"i\").exec(post.title))\n  });\n}\n\nnewPost = () => {\n  this.setState(prevState => ({\n      show: !prevState.show\n  }));\n}\n\nadmin = () => {\n  this.setState(prevState => ({\n      adminLogin: !prevState.adminLogin\n  }));\n}\n\ngetToken = () => {\n  return localStorage.getItem('token');\n}\n\nlogout = () => {\n  localStorage.removeItem('token');\n  this.setState({\n      adminLoggedIn: false\n  })\n}\n\nloggedIn = () => {\n  const token = this.getToken();\n  if (!!token && !this.isTokenExpired(token)) {\n      this.setState(prevState => ({\n          adminLoggedIn: !prevState.adminLoggedIn\n      }));\n  }\n}\n\nisTokenExpired = (token) => {\n  try {\n      const decoded = decode(token);\n      if (decoded.exp < Date.now() / 10000) {\n          return true;\n      } else {\n          return false;\n      }\n  }\n  catch (error) {\n      return false;\n  }\n}\n\n  render() {\n    return (\n      <div className = 'app'>\n        <Navigation />\n        \n        <Route render = {({location}) => {\n            const { pathname, key } = location;\n            return (\n              <TransitionGroup component = {null}>\n                <Transition \n                  key = {key}\n                  appear = {true}\n                  onEnter = {(node, appears) => play(pathname, node, appears)}\n                  onExit = {(node, appears) => exit(node, appears)}\n                  timeout = {{enter: 750, exit: 150}}\n                >\n                  <main>\n                    <Switch location = {location}>\n                      <Route exact path = '/' component = { HomePage } />\n                      <Route path = '/resume' component = { Resume } />\n                      <Route path = '/projects' component = { Projects } />\n                      <Route path = '/blog' return = {(props) => (\n                        <BlogPostList {...props} posts = {this.state.posts}/>\n                      )} />\n                  {/* <Route path = '/blog/post/:id' component = { BlogPostView } />\n                       <Route path = '/blog/post/:id' return = {(props) => (\n                        <BlogPostView {...props} />\n                      )} />\n                      <Route path = '/blog/post/:id' return = {(props) => (\n                        <BlogPostView {...props} />\n                      )} /> */}\n                    </Switch>\n                  </main>\n                </Transition>\n              </TransitionGroup>\n            )}} \n        />\n        <Foot />\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}