{"ast":null,"code":"import _defineProperty from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/das/Desktop/DasMA-Portfolio/src/Components/Blog/NewBlogPost.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport decode from 'jwt-decode';\nvar URL = 'http://ma:9000/posts/add/';\n\nvar NewBlogPost =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(NewBlogPost, _Component);\n\n  function NewBlogPost(props) {\n    var _this;\n\n    _classCallCheck(this, NewBlogPost);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NewBlogPost).call(this, props));\n\n    _this.setId = function () {\n      var data = decode(_this.getToken());\n\n      _this.setState({\n        userId: data.id\n      });\n    };\n\n    _this.getToken = function () {\n      return localStorage.getItem('token');\n    };\n\n    _this.change = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.addPost = function (event) {\n      event.preventDefault();\n      var newPost = {\n        title: _this.state.title,\n        content: _this.state.content,\n        category: _this.state.category,\n        userId: _this.state.userId\n      };\n      axios.post(URL, newPost).then(function (response) {\n        window.location = '/blog';\n      }).catch(function (error) {\n        console.log(error);\n      });\n\n      _this.setState({\n        title: '',\n        content: '',\n        category: '',\n        userId: ''\n      });\n    };\n\n    _this.state = {\n      title: '',\n      content: '',\n      category: '',\n      userId: ''\n    };\n    return _this;\n  }\n\n  _createClass(NewBlogPost, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setId();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          title = _this$state.title,\n          content = _this$state.content,\n          category = _this$state.category;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Add New Blog Post\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Category\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"category\",\n        placeholder: \"Post category\",\n        value: category,\n        onChange: function onChange(event) {\n          return _this2.change(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Title\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"title\",\n        placeholder: \"Post title\",\n        value: title,\n        onChange: function onChange(event) {\n          return _this2.change(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Content\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"textarea\",\n        name: \"content\",\n        placeholder: \"Post content\",\n        value: content,\n        onChange: function onChange(event) {\n          return _this2.change(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"button\",\n        type: \"submit\",\n        onClick: this.addPost,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Save\"));\n    }\n  }]);\n\n  return NewBlogPost;\n}(Component);\n\nexport default NewBlogPost;","map":{"version":3,"sources":["/home/das/Desktop/DasMA-Portfolio/src/Components/Blog/NewBlogPost.js"],"names":["React","Component","axios","decode","URL","NewBlogPost","props","setId","data","getToken","setState","userId","id","localStorage","getItem","change","event","target","name","value","addPost","preventDefault","newPost","title","state","content","category","post","then","response","window","location","catch","error","console","log"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AAEA,IAAMC,GAAG,GAAG,2BAAZ;;IAEMC,W;;;;;AACF,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,qFAAMA,KAAN;;AADe,UAcnBC,KAdmB,GAcX,YAAM;AACV,UAAIC,IAAI,GAAGL,MAAM,CAAC,MAAKM,QAAL,EAAD,CAAjB;;AACA,YAAKC,QAAL,CAAc;AACVC,QAAAA,MAAM,EAAEH,IAAI,CAACI;AADH,OAAd;AAGH,KAnBkB;;AAAA,UAqBnBH,QArBmB,GAqBR,YAAM;AACb,aAAOI,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAP;AACH,KAvBkB;;AAAA,UAyBnBC,MAzBmB,GAyBV,UAACC,KAAD,EAAW;AAChB,YAAKN,QAAL,qBAAiBM,KAAK,CAACC,MAAN,CAAaC,IAA9B,EAAqCF,KAAK,CAACC,MAAN,CAAaE,KAAlD;AACH,KA3BkB;;AAAA,UA6BnBC,OA7BmB,GA6BT,UAAAJ,KAAK,EAAI;AACfA,MAAAA,KAAK,CAACK,cAAN;AAEA,UAAMC,OAAO,GAAG;AACdC,QAAAA,KAAK,EAAE,MAAKC,KAAL,CAAWD,KADJ;AAEdE,QAAAA,OAAO,EAAE,MAAKD,KAAL,CAAWC,OAFN;AAGdC,QAAAA,QAAQ,EAAE,MAAKF,KAAL,CAAWE,QAHP;AAIdf,QAAAA,MAAM,EAAE,MAAKa,KAAL,CAAWb;AAJL,OAAhB;AAOAT,MAAAA,KAAK,CAACyB,IAAN,CAAWvB,GAAX,EAAgBkB,OAAhB,EACGM,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChBC,QAAAA,MAAM,CAACC,QAAP,GAAkB,OAAlB;AACD,OAHH,EAIGC,KAJH,CAIS,UAAAC,KAAK,EAAI;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OANH;;AAQE,YAAKvB,QAAL,CAAc;AACZa,QAAAA,KAAK,EAAE,EADK;AAEZE,QAAAA,OAAO,EAAE,EAFG;AAGZC,QAAAA,QAAQ,EAAE,EAHE;AAIZf,QAAAA,MAAM,EAAE;AAJI,OAAd;AAML,KArDkB;;AAEf,UAAKa,KAAL,GAAa;AACTD,MAAAA,KAAK,EAAE,EADE;AAETE,MAAAA,OAAO,EAAE,EAFA;AAGTC,MAAAA,QAAQ,EAAE,EAHD;AAITf,MAAAA,MAAM,EAAE;AAJC,KAAb;AAFe;AAQlB;;;;wCAEmB;AAChB,WAAKJ,KAAL;AACH;;;6BA0CQ;AAAA;;AAAA,wBAE8B,KAAKiB,KAFnC;AAAA,UAEED,KAFF,eAEEA,KAFF;AAAA,UAESE,OAFT,eAESA,OAFT;AAAA,UAEkBC,QAFlB,eAEkBA,QAFlB;AAIL,aACQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADA,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADR,EAEY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,UAAxB;AAAmC,QAAA,WAAW,EAAC,eAA/C;AAA+D,QAAA,KAAK,EAAEA,QAAtE;AAAgF,QAAA,QAAQ,EAAE,kBAACV,KAAD;AAAA,iBAAW,MAAI,CAACD,MAAL,CAAYC,KAAZ,CAAX;AAAA,SAA1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAFZ,CAFJ,EAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAEQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,OAAxB;AAAgC,QAAA,WAAW,EAAC,YAA5C;AAAyD,QAAA,KAAK,EAAEO,KAAhE;AAAuE,QAAA,QAAQ,EAAE,kBAACP,KAAD;AAAA,iBAAW,MAAI,CAACD,MAAL,CAAYC,KAAZ,CAAX;AAAA,SAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAFR,CARJ,EAcI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,EAEQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,IAAI,EAAC,SAA5B;AAAuC,QAAA,WAAW,EAAC,cAAnD;AAAkE,QAAA,KAAK,EAAES,OAAzE;AAAmF,QAAA,QAAQ,EAAE,kBAACT,KAAD;AAAA,iBAAW,MAAI,CAACD,MAAL,CAAYC,KAAZ,CAAX;AAAA,SAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAFR,CAdJ,EAoBI;AAAK,QAAA,SAAS,EAAG,QAAjB;AAA0B,QAAA,IAAI,EAAC,QAA/B;AAAwC,QAAA,OAAO,EAAE,KAAKI,OAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBApBJ,CADR;AAwBH;;;;EAnFqBnB,S;;AAwF1B,eAAeI,WAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport decode from 'jwt-decode';\r\n\r\nconst URL = 'http://ma:9000/posts/add/';\r\n\r\nclass NewBlogPost extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n            title: '',\r\n            content: '',\r\n            category: '',\r\n            userId: ''\r\n         }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setId();\r\n    }\r\n\r\n    setId = () => {\r\n        let data = decode(this.getToken());\r\n        this.setState({\r\n            userId: data.id\r\n        });\r\n    }\r\n\r\n    getToken = () => {\r\n        return localStorage.getItem('token');\r\n    }\r\n\r\n    change = (event) => {\r\n        this.setState({ [event.target.name]: event.target.value});\r\n    }\r\n\r\n    addPost = event => {\r\n        event.preventDefault();\r\n\r\n        const newPost = {\r\n          title: this.state.title,\r\n          content: this.state.content,\r\n          category: this.state.category,\r\n          userId: this.state.userId\r\n        }\r\n\r\n        axios.post(URL, newPost) \r\n          .then(response => {\r\n            window.location = '/blog';\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n          })\r\n          \r\n          this.setState({\r\n            title: '',\r\n            content: '',\r\n            category: '',\r\n            userId: ''\r\n          });\r\n    }\r\n    render() { \r\n\r\n        const {title, content, category} = this.state;\r\n       \r\n        return ( \r\n                <div>\r\n                <h1>Add New Blog Post</h1>\r\n                    <div>\r\n                            <div>Category</div>\r\n                                <div>\r\n                                    <input type=\"text\" name=\"category\" placeholder=\"Post category\" value={category} onChange={(event) => this.change(event)} />\r\n                                </div>\r\n                    </div>\r\n                    <div >\r\n                        <div>Title</div>\r\n                            <div>\r\n                                <input type=\"text\" name=\"title\" placeholder=\"Post title\" value={title} onChange={(event) => this.change(event)} />\r\n                            </div>\r\n                    </div>\r\n                    <div>\r\n                        <div>Content</div>\r\n                            <div>\r\n                                <input type=\"textarea\" name=\"content\"  placeholder=\"Post content\" value={content}  onChange={(event) => this.change(event)} />\r\n                            </div>\r\n                    </div>\r\n                    <div className = 'button' type='submit' onClick={this.addPost}>Save</div>\r\n                </div>\r\n         );\r\n    }\r\n}\r\n\r\n\r\n \r\nexport default NewBlogPost;"]},"metadata":{},"sourceType":"module"}