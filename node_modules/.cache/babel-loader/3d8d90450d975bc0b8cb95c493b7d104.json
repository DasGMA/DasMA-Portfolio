{"ast":null,"code":"import _defineProperty from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/das/Desktop/DasMA-Portfolio/src/Components/Blog/EditBlogPost.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Form, FormGroup, Label, Col, Input, Button, Container } from 'react-materialize';\nvar URL = 'http://ma:9000/posts/';\n\nvar EditBlogPost =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EditBlogPost, _Component);\n\n  function EditBlogPost(props) {\n    var _this;\n\n    _classCallCheck(this, EditBlogPost);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditBlogPost).call(this, props));\n\n    _this.change = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.update = function (event) {\n      event.preventDefault();\n      var updatedPost = {\n        title: _this.state.title,\n        content: _this.state.content,\n        category: _this.state.category\n      };\n      axios.put(\"\".concat(URL).concat(_this.state.id, \"/update\"), updatedPost).then(function (response) {\n        console.log(response);\n        console.log(response.data);\n        window.location = '/blog';\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.state = {\n      title: '',\n      content: '',\n      id: 0,\n      category: ''\n    };\n    return _this;\n  }\n\n  _createClass(EditBlogPost, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var id = Number(this.props.match.params.id);\n      axios.get(URL).then(function (response) {\n        var matching = response.data.find(function (post) {\n          return post.id === id;\n        });\n\n        _this2.setState({\n          title: matching.title,\n          content: matching.content,\n          id: matching.id,\n          category: matching.category\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Update blog post\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Category\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"category\",\n        placeholder: \"Post category\",\n        value: this.state.category,\n        onChange: function onChange(event) {\n          return _this3.change(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Title\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"title\",\n        placeholder: \"Post title\",\n        value: this.state.title,\n        onChange: function onChange(event) {\n          return _this3.change(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"Content\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"textarea\",\n        name: \"content\",\n        placeholder: \"Post content\",\n        value: this.state.content,\n        onChange: function onChange(event) {\n          return _this3.change(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"button\",\n        type: \"submit\",\n        onClick: this.update,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"Save\")));\n    }\n  }]);\n\n  return EditBlogPost;\n}(Component);\n\nexport default EditBlogPost;","map":{"version":3,"sources":["/home/das/Desktop/DasMA-Portfolio/src/Components/Blog/EditBlogPost.js"],"names":["React","Component","axios","Form","FormGroup","Label","Col","Input","Button","Container","URL","EditBlogPost","props","change","event","setState","target","name","value","update","preventDefault","updatedPost","title","state","content","category","put","id","then","response","console","log","data","window","location","catch","error","Number","match","params","get","matching","find","post"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport { Form, FormGroup, Label, Col, Input, Button, Container } from 'react-materialize';\r\n\r\n\r\nconst URL = 'http://ma:9000/posts/';\r\n\r\n\r\nclass EditBlogPost extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n            title: '',\r\n            content: '',\r\n            id: 0,\r\n            category: ''\r\n         }\r\n    }\r\n\r\ncomponentDidMount () {\r\n    const id = Number(this.props.match.params.id);\r\n        axios.get(URL)\r\n        .then(response => {\r\n            const matching = response.data.find(post => post.id === id);\r\n            this.setState({\r\n                title: matching.title,\r\n                content: matching.content,\r\n                id: matching.id,\r\n                category: matching.category\r\n            });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        })\r\n    }\r\n    \r\n    change = event => {\r\n        this.setState({ \r\n            [event.target.name]: event.target.value\r\n        });\r\n    }\r\n\r\n    update = (event) => {\r\n        event.preventDefault();\r\n        const updatedPost = {\r\n            title: this.state.title,\r\n            content: this.state.content,\r\n            category: this.state.category\r\n        }\r\n        axios.put(`${URL}${this.state.id}/update`, updatedPost)\r\n        .then(response => {\r\n            console.log(response);\r\n            console.log(response.data);\r\n            window.location = '/blog';\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        })\r\n    }\r\n\r\n    render() { \r\n        \r\n        return (\r\n            <Container>\r\n                <div>\r\n                <h1>Update blog post</h1>\r\n                    <div>\r\n                        <div>Category</div>\r\n                            <div>\r\n                                <input type=\"text\" name=\"category\" placeholder=\"Post category\" value={this.state.category} onChange={(event) => this.change(event)} />\r\n                            </div>\r\n                    </div>\r\n                    <div >\r\n                        <div>Title</div>\r\n                            <div>\r\n                                <input type=\"text\" name=\"title\" placeholder=\"Post title\" value={this.state.title} onChange={(event) => this.change(event)} />\r\n                            </div>\r\n                    </div>\r\n                    <div>\r\n                        <div>Content</div>\r\n                            <div>\r\n                                <input type=\"textarea\" name=\"content\"  placeholder=\"Post content\" value={this.state.content}  onChange={(event) => this.change(event)} />\r\n                            </div>\r\n                    </div>\r\n                    <div className = 'button' type='submit' onClick={this.update}>Save</div>\r\n                </div>\r\n                {/* <Form>\r\n                    <FormGroup>\r\n                        <Label for=\"exampleEmail\" sm={2}>Category</Label>\r\n                            <Col sm={12}>\r\n                                <Input type=\"text\" name=\"category\" placeholder=\"Post category\" value={this.state.category} onChange={this.change} />\r\n                            </Col>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"exampleEmail\" sm={2}>Title</Label>\r\n                            <Col sm={12}>\r\n                                <Input type=\"text\" name=\"title\" placeholder=\"Post title\" value={this.state.title} onChange={this.change} />\r\n                            </Col>\r\n                    </FormGroup>\r\n                    <FormGroup row>\r\n                        <Label for=\"exampleEmail\" sm={2} >Content</Label>\r\n                            <Col sm={12}>\r\n                                <Input type=\"textarea\" name=\"content\"  placeholder=\"Post content\" value={this.state.content} onChange={this.change} />\r\n                            </Col>\r\n                    </FormGroup>\r\n                    <Button type='submit' onClick={this.update}>Update</Button>\r\n                </Form> */}\r\n            </Container>\r\n         );\r\n    }\r\n}\r\n \r\nexport default EditBlogPost;"]},"metadata":{},"sourceType":"module"}