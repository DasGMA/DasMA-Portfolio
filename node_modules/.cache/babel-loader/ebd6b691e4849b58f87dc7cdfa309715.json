{"ast":null,"code":"import _defineProperty from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/das/Desktop/DasMA-Portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/das/Desktop/DasMA-Portfolio/src/Components/Blog/EditBlogPost.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Container } from 'react-materialize';\nvar URL = 'http://ma:9000/posts/';\n\nvar EditBlogPost =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EditBlogPost, _Component);\n\n  function EditBlogPost(props) {\n    var _this;\n\n    _classCallCheck(this, EditBlogPost);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditBlogPost).call(this, props));\n\n    _this.change = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.update = function (event) {\n      event.preventDefault();\n      var updatedPost = {\n        title: _this.state.title,\n        content: _this.state.content,\n        category: _this.state.category\n      };\n      axios.put(\"\".concat(URL).concat(_this.state.id, \"/update\"), updatedPost).then(function (response) {\n        console.log(response);\n        console.log(response.data);\n        window.location = '/blog';\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.delete = function (id) {\n      axios.delete(\"\".concat(URL).concat(id, \"/delete\")).then(function (response) {\n        _this.setState({\n          posts: response.data\n        });\n\n        window.location = '/blog';\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.state = {\n      title: '',\n      content: '',\n      id: 0,\n      category: ''\n    };\n    return _this;\n  }\n\n  _createClass(EditBlogPost, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var id = Number(this.props.match.params.id);\n      axios.get(URL).then(function (response) {\n        var matching = response.data.find(function (post) {\n          return post.id === id;\n        });\n\n        _this2.setState({\n          title: matching.title,\n          content: matching.content,\n          id: matching.id,\n          category: matching.category\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Update blog \", \"'\".concat(this.state.title, \"'\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Category\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"category\",\n        placeholder: \"Post category\",\n        value: this.state.category,\n        onChange: this.change,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Title\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"title\",\n        placeholder: \"Post title\",\n        value: this.state.title,\n        onChange: this.change,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"Content\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"textarea\",\n        name: \"content\",\n        placeholder: \"Post content\",\n        value: this.state.content,\n        onChange: this.change,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"button\",\n        type: \"submit\",\n        onClick: this.update,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Update\"), React.createElement(\"div\", {\n        className: \"link\",\n        onClick: function onClick() {\n          return _this3.delete(_this3.state.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Delete\"));\n    }\n  }]);\n\n  return EditBlogPost;\n}(Component);\n\nexport default EditBlogPost;","map":{"version":3,"sources":["/home/das/Desktop/DasMA-Portfolio/src/Components/Blog/EditBlogPost.js"],"names":["React","Component","axios","Container","URL","EditBlogPost","props","change","event","setState","target","name","value","update","preventDefault","updatedPost","title","state","content","category","put","id","then","response","console","log","data","window","location","catch","error","delete","posts","Number","match","params","get","matching","find","post"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport { Container } from 'react-materialize';\r\n\r\n\r\nconst URL = 'http://ma:9000/posts/';\r\n\r\n\r\nclass EditBlogPost extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n            title: '',\r\n            content: '',\r\n            id: 0,\r\n            category: ''\r\n         }\r\n    }\r\n\r\ncomponentDidMount () {\r\n    const id = Number(this.props.match.params.id);\r\n        axios.get(URL)\r\n        .then(response => {\r\n            const matching = response.data.find(post => post.id === id);\r\n            this.setState({\r\n                title: matching.title,\r\n                content: matching.content,\r\n                id: matching.id,\r\n                category: matching.category\r\n            });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        })\r\n    }\r\n    \r\n    change = event => {\r\n        this.setState({ \r\n            [event.target.name]: event.target.value\r\n        });\r\n    }\r\n\r\n    update = (event) => {\r\n        event.preventDefault();\r\n        const updatedPost = {\r\n            title: this.state.title,\r\n            content: this.state.content,\r\n            category: this.state.category\r\n        }\r\n        axios.put(`${URL}${this.state.id}/update`, updatedPost)\r\n        .then(response => {\r\n            console.log(response);\r\n            console.log(response.data);\r\n            window.location = '/blog';\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        })\r\n    }\r\n\r\n    delete = (id) => {\r\n        axios.delete(`${URL}${id}/delete`)\r\n        .then(response => {\r\n            this.setState({\r\n                posts: response.data\r\n            })\r\n            window.location = '/blog';\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        })\r\n      }\r\n\r\n\r\n    render() { \r\n        \r\n        return (\r\n            <Container>\r\n                <h5>Update blog {`'${this.state.title}'`}</h5>\r\n                    <div>\r\n                        <div>Category</div>\r\n                            <div>\r\n                                <input type = \"text\" name = \"category\" placeholder = \"Post category\" value = {this.state.category} onChange = {this.change} />\r\n                            </div>\r\n                    </div>\r\n                    <div >\r\n                        <div>Title</div>\r\n                            <div>\r\n                                <input type = \"text\" name=\"title\" placeholder=\"Post title\" value={this.state.title} onChange={this.change} />\r\n                            </div>\r\n                    </div>\r\n                    <div>\r\n                        <div>Content</div>\r\n                            <div>\r\n                                <input type=\"textarea\" name=\"content\"  placeholder=\"Post content\" value={this.state.content}  onChange={this.change} />\r\n                            </div>\r\n                    </div>\r\n                    <div className = 'button' type='submit' onClick={this.update}>Update</div>\r\n                    <div className = \"link\" onClick={() => this.delete(this.state.id)} >Delete</div>\r\n            </Container>\r\n         );\r\n    }\r\n}\r\n \r\nexport default EditBlogPost;"]},"metadata":{},"sourceType":"module"}